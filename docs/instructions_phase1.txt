Executive Summary
To tackle the IAQF crypto basis project, we will focus on high-frequency spot-market analysis and decompose cross-currency price gaps during March 1–21, 2023. Our plan is:

Validate existing data: Inventory the two provided sheets (Sheet1, Sheet2) to note fields and frequency (likely daily bars). Identify missing high-frequency fields (ticks, orderbook) and plan their acquisition.
Acquire high-frequency data: Pull 1-second (or tick) trades and order book snapshots for BTC/USD, BTC/USDT, BTC/USDC on at least two exchanges (e.g. Binance, Coinbase, Kraken). Use vendor products (Kaiko L2, Tardis tick data) and exchange APIs (Binance REST/WebSocket, Coinbase Pro L2).
Construct metrics: Harmonize timestamps to UTC, create mid-prices and spreads, compute log LOP deviations (e.g. log(BTC/USDT)−log(BTC/USD)), and stablecoin FX components. Also compute liquidity metrics (spread, depth, volume, realized vol, price-impact proxies).
Event analysis: Mark March 10–13 as the USDC stress window using Fed statements. Compare pre/post regimes in LOP and liquidity.
Model and interpret: Use simple regressions (|LOP| vs spreads/depth), cointegration tests, and lead/lag analysis to explain what drives the basis. Frame findings via redemption constraints and policy (e.g. GENIUS Act’s reserve rules).
We will deliver a step-by-step action plan (below), a literature-backed analytical report, and all scripts/figures reproducibly.

Executive Action Plan
Inspect Provided Sheets (Sheet1 & Sheet2): Open both Excel sheets. In each, list column names (Timestamp, Exchange, Pair, Price, Volume, Bid, Ask, Depth?). Note frequency (likely daily or hourly) and data source.
Check Key Fields: In a table, mark which sheet has timestamp, exchange, symbol, price type (mid/trade), volume, bid, ask, orderbook levels. If any are absent, we must source them externally.
Acquire High-Frequency Data: For March 1–21, 2023, obtain:
Binance REST/WebSocket: use /api/v3/depth?symbol=BTCUSDT&limit=50 for snapshots and /api/v3/depth?symbol=BTCUSD&limit=50 (if available), plus WS streams for live updates.
Coinbase Pro API: call GET /products/BTC-USD/book?level=2 for full L2 and similar for BTC-USDT, BTC-USDC.
Tardis.dev tick data: subscribe to tick-by-tick order book and trades for Binance and Coinbase BTC pairs.
Kaiko L2 snapshots: request daily L2 orderbook snapshots via Kaiko for the same pairs (Kaiko product: l2 snapshots for BTC).
Additional: If Sheet1/2 lack stablecoin FX (USDT/USD, USDC/USD), use Coinbase or CryptoCompare for those.
Process and Harmonize: Standardize all data to UTC 1-second bins. Resample trades to 1s mid-prices (VWAP if multiple trades, or last trade), interpolate or carry forward bids/asks for each second. Ensure all exchanges align.
Construct Features: For each second (or tick):
Compute Mid-price = (Bid+Ask)/2.
Compute Spread = Ask−Bid (and relative spread).
Compute Log LOP Deviations: e.g. Δ_usdt = log(Mid(BTC/USDT)) − log(Mid(BTC/USD)), Δ_usdc similarly.
Compute Stablecoin USD deviations: log(USDT/USD) via USDT/USD price, log(USDC/USD) via USDC/USD price (primary market).
Compute Depth: Sum volume within ±5 bps of mid, etc.
Compute Volume and Realized Volatility (sum of squared returns in 1-min windows).
Event/Regime Labeling: Label Mar10 (SVB run begins) to Mar12 (before Fed backstop) as the crisis regime; Mar13–15 as recovery; others as pre/post.
Descriptive Analysis: Plot time-series of LOP deviations and spreads (mermaid timeline below). Summarize average gaps pre vs during crisis.
Regression/Tests: Run regressions of |LOP| on spreads, depth, volatility. Perform Engle-Granger cointegration tests on BTC/USD vs BTC/USDT. Use Hasbrouck or Granger-causality to check lead-lag between quote markets.
Summarize & Write: Document non-quantitative factors (exchange fee schedules, stablecoin redemption rules) to interpret results. Relate to policy (GENIUS Act reserves, Visa settlement adoption).
Reproducibility: Organize code so figures (price charts, liquidity heatmaps) and tables are fully reproducible. Include liability checks (e.g., compare produced spreads to reported ones).
Mermaid Timeline (USDC Event):

2023-03-10
Circle cites $3.3BUSDC reserve freezeat SVB.
2023-03-11
USDC trades ~0.87;stablecoinconversions pausedby some exchanges.
2023-03-12
Fed/Treasury/FDICguarantee depositsfrom Mar13.
2023-03-13
Circle resumesredemptions; USDCprice recovers.
March 2023 USDC Depeg Events


Show code
Mermaid Entity Relations (Event Flow):

Reserve Freeze

Mint/Redeem Frozen

Price Drop

Cross-Quote Prices

Deposit Guarantee

Backstop

Resume Redemptions

Repeg Close to $1

Silicon Valley Bank

Circle/USDC

USDC Market

Crypto Exchanges

Crypto Traders

LOP Deviations

Regulators

Banking System



Show code
(This shows how SVB’s collapse froze Circle’s reserves, triggering a USDC price drop that rippled into BTC/USD vs BTC/USDC basis, then regulators intervened allowing USDC to regain parity.)

Field Mapping & Data Inventory
Field	Sheet1	Sheet2	Notes
Timestamp (UTC)	✔	✔	Ensure both in UTC; if local, convert
Exchange	✔	✖	If missing, we must tag manually
Trading Pair	✔	✖	E.g. "BTC-USD", "BTC-USDT"
Price Type	"Close"	"Mid"	Confirm meaning (closing vs midpoint)
Price (value)	✔	✔	Numeric price of BTC in quote
Volume	✔	✔	Trading volume for interval
Bid	✖	✖	Not present → must source from L2
Ask	✖	✖	Not present → must source from L2
Orderbook Depth	✖	✖	Not present → use external data
Spread (calc)	✔	✔	Spread given or compute if bid/ask
Data Frequency	Daily	Daily	Both are daily candles => insufficient

Interpretation: Both sheets lack tick-level bids/asks and are only daily frequencies. We must therefore acquire at least 1-minute bid/ask data to compute LOP deviations as required. Specifically, we need fields not in sheets: second-level price, bid, ask, depth.

Prioritized Task List
Request High-Frequency Data (High effort):

Goal: Obtain tick/1-second BTC price data for USD, USDT, USDC quotes.
How:
Exchanges: Use Binance Spot API (/api/v3/depth?symbol=BTCUSDT&limit=50, /api/v3/depth?symbol=BTCUSD&limit=50 if available), and Coinbase Pro REST (GET /products/BTC-USD/book?level=2 etc). Authenticate if needed.
Aggregators: Subscribe to Kaiko or Tardis datasets (tick-by-tick L2). For example, Kaiko L2 snapshots for BTC pairs, Tardis L3 for Binance/Coinbase.
Fields to retrieve: timestamp (ms), best bid, best ask, bid volume, ask volume, trade price, trade volume.
Why High Effort: Requires setting up API keys, downloading large data, and ensuring completeness.
Harmonize & Resample Data (Medium effort):

Goal: Align data from different sources into a 1-second grid in UTC.
How: Convert all timestamps to UTC. Fill any gaps via last-observation-carry-forward for bids/asks. Compute VWAP if multiple trades in a second.
Check: Consistent tick counts per minute; no missing intervals.
Compute Key Variables (Medium effort):

Goal: Create mid-prices, spreads, and LOP deviations.
How:
Mid = (Bid+Ask)/2.
Spread = Ask - Bid.
$\Delta_{USDT} = \log(\text{Mid}{BTC/USDT})-\log(\text{Mid}{BTC/USD})$.
Similarly, $\Delta_{USDC}$.
Stablecoin FX leg: record log(USDT/USD) from USDT price, and treat that component separately.
Check: LOP should be ~0 outside crisis. Visual sanity check on pre-March10.
Event Window Analysis (Medium):

Goal: Compare metrics across regimes.
How: Segment the data: Pre-March10, Crisis (Mar10–12), Recovery (Mar13–15), Post. Compute mean($|\Delta|$), mean spread, etc. Test if differences are significant.
Check: LOP mean should spike in Crisis regime.
Regressions & Tests (High):

Goal: Explain LOP deviations by liquidity.
How: Regress $|\Delta_t|$ on spread$_t$, depth$_t$, volatility$_t$, with time dummies. Do ADF tests for cointegration between BTC/USD and BTC/USDT. Compute Hasbrouck information share for price series.
Check: Sign of coefficients: positive for spreads, negative for depth (if drop in depth increases deviation).
Document Non-Quant Context (Low):

Goal: Prepare qualitative details.
How: Summarize Circle’s USDC redemption policy, exchange fee structures, deposit/withdraw delays. Cite Fed notes on primary vs secondary stablecoin markets.
Check: At least one paragraph on each major factor.
Write-Up and Figures (Medium):

Goal: Compile report sections.
How: Use templates: Executive Summary, Data Description, Results, Policy Context. Produce charts (price/time, liquidity heatmaps). Include citations in text for all claims.
Check: Ensure all tasks above are documented in sections with evidence.